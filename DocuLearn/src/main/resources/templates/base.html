<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <title>Trang ch·ªß</title>
    <th:block th:fragment="styles">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <style>
            #ai-chat-widget {
                position: fixed;
                bottom: 80px;
                right: 30px;
                z-index: 9999; /* lu√¥n n·∫±m ƒë√® */
                font-family: Arial, sans-serif;
            }

            #ai-avatar {
                width: 60px;
                height: 60px;
                background: #4cafef;
                border-radius: 50%;
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                font-size: 30px;
                box-shadow: 0 4px 8px rgba(0,0,0,0.3);
                color: white;
            }

            #ai-chat-box {
                display: none;
                position: absolute;
                bottom: 80px;
                right: 0;
                width: 300px;
                height: 400px;
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                overflow: hidden;
                flex-direction: column;
            }

            #ai-messages {
                height: 340px;
                overflow-y: auto;
                padding: 10px;
                font-size: 14px;
            }

            .ai-input {
                display: flex;
                border-top: 1px solid #ddd;
            }

            .ai-input input {
                flex: 1;
                border: none;
                padding: 10px;
                font-size: 14px;
            }

            .ai-input button {
                border: none;
                background: #4cafef;
                color: white;
                padding: 10px;
                cursor: pointer;
            }
        </style>
    </th:block>
</head>
<body>
<header th:fragment="header">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <div class="container-fluid">
            <ul class="navbar-nav">
                <p th:if="${courseId != null}" th:text="'ƒêang c√≥ courseId: ' + ${courseId}"></p>
                <li class="nav-item">
                    <a class="nav-link active" th:href="@{/}">DocuLearn</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/}">Trang ch·ªß</a>
                </li>

                <li class="nav-item" th:if="${courseId != null}">
                    <a class="nav-link" th:href="@{'/course/' + ${courseId} + '/upload-file'}">Upload file</a>
                </li>

                <li class="nav-item" th:if="${courseId != null}">
                    <a class="nav-link" th:href="@{'/course/' + ${courseId} + '/detail'}">Summary</a>
                </li>

                <li class="nav-item" th:if="${courseId != null}">
                    <a class="nav-link" th:href="@{'/course/' + ${courseId} + '/question-option'}">Question</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" th:href="@{/logout}" sec:authorize="isAuthenticated()">ƒêƒÉng xu·∫•t</a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div id="ai-chat-widget" th:fragment="ai_box">
    <div id="ai-avatar">
        ü§ñ
    </div>
    <div id="ai-chat-box">
        <div id="ai-messages"></div>
        <div class="ai-input">
            <input type="text" id="ai-user-input" placeholder="H·ªèi g√¨ ƒë√≥..." />
            <button onclick="sendToAI()">G·ª≠i</button>
        </div>
    </div>
</div>

<footer th:fragment="footer">
    <div class="mt-4 p-5 bg-dark text-white rounded">
        <h2>
            DocuLearn
            <span style="font-size: 1.3rem; font-weight: normal;">
                - N·ªÅn t·∫£ng h·ªçc t·∫≠p th√¥ng minh t·ª´ t√†i li·ªáu
            </span>
        </h2>

        <p> ‚úâÔ∏è mai.nt108i@gmail.com</p>
        <p> &copy; 2025, DocuLearn</p>
    </div>
</footer>

<script src="/js/ai-box.js"></script>


</body>
</html>